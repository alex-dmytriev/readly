import{S as B,N as z,P as j,A as Z,a as v,i as d,b as Q}from"./assets/vendor-DEoRxhcN.js";(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();const n={headerContainerEl:document.querySelector(".header-container"),heroContainerEl:document.querySelector(".hero-container"),booksContainerEl:document.querySelector(".books-container"),feedbacksContainerEl:document.querySelector(".feedbacks-container"),eventsContainerEl:document.querySelector(".events-container"),contactModalContainerEl:document.querySelector(".contact-modal-container"),bookModalContainerEl:document.querySelector(".bm-container"),footerContainerEl:document.querySelector(".footer-container"),heroSection:document.querySelector(".hero"),openBtn:document.querySelector(".mobile-open-menu-btn"),closeBtn:document.querySelector(".mobile-menu-close-btn"),mobileMenu:document.querySelector(".mobile-menu"),mobileNavLinks:document.querySelectorAll(".mobile-page-menu-link"),desktopNavLinks:document.querySelectorAll(".page-menu-link"),header:document.querySelector(".header"),body:document.body,galleryList:document.querySelector(".books-gallery-list"),categoryList:document.querySelector(".books-nav-category "),showMoreBtn:document.querySelector(".books-gallery-btn"),loader:document.querySelector(".loader"),counter:document.querySelector(".books-nav-counter"),dropdownMenu:document.querySelector(".books-dropdown-menu"),dropdownToggle:document.querySelector(".books-dropdown-toggle"),dropdownToggleText:document.querySelector(".books-dropdown-toggle-text"),bookCover:document.querySelector(".bm-cover"),titleEl:document.querySelector(".bm-title"),authorEl:document.querySelector(".bm-author"),priceEl:document.querySelector(".bm-price"),modalOverlay:document.querySelector(".bm-overlay"),closeButton:document.querySelector(".bm-close"),decreaseBtn:document.getElementById("decreaseBtn"),increaseBtn:document.getElementById("increaseBtn"),quantityInput:document.getElementById("quantity"),addToCartBtn:document.querySelector(".bm-add-to-cart"),buyNowBtn:document.querySelector(".bm-buy-now"),detailsContent:document.querySelectorAll(".ac-panel")[0],shippingContent:document.querySelectorAll(".ac-panel")[1],returnsContent:document.querySelectorAll(".ac-panel")[2],feedbackList:document.querySelector(".feedback-list")};let N=n.header.offsetHeight,O=window.pageYOffset;function $(){N=n.header.offsetHeight}function P(){n.heroSection&&(n.heroSection.style.paddingTop=`${N}px`)}function F(e){const o=document.querySelector(e);if(o){const t=o.offsetTop-N;window.scrollTo({top:t,behavior:"smooth"})}}function X(){const e=window.pageYOffset;e>O&&e>100?n.header.classList.add("hide-on-scroll"):n.header.classList.remove("hide-on-scroll"),O=e}function ee(){$(),P(),window.addEventListener("resize",()=>{$(),P()}),window.addEventListener("scroll",X),n.desktopNavLinks.forEach(e=>{e.addEventListener("click",o=>{o.preventDefault();const t=e.getAttribute("href");F(t)})}),n.mobileNavLinks.forEach(e=>{e.addEventListener("click",o=>{const t=e.getAttribute("href");F(t)})})}ee();n.openBtn.addEventListener("click",()=>{n.mobileMenu.classList.add("is-open"),n.body.classList.add("menu-open")});n.closeBtn.addEventListener("click",()=>{n.mobileMenu.classList.remove("is-open"),n.body.classList.remove("menu-open")});n.mobileNavLinks.forEach(e=>{e.addEventListener("click",()=>{n.mobileMenu.classList.remove("is-open"),n.body.classList.remove("menu-open")})});new B(".hero-swiper",{modules:[z,j,Z],loop:!1,grabCursor:!0,preloadImages:!1,navigation:{nextEl:".hero-swiper-btn-next",prevEl:".hero-swiper-btn-prev"},keyboard:{enabled:!0,onlyInViewport:!0},speed:500,autoplay:{delay:5e3,disableOnInteraction:!1}});document.querySelectorAll(".hero-swiper-btn-prev, .hero-swiper-btn-next, .banner-btn").forEach(e=>{e.addEventListener("mouseup",()=>e.blur())});async function te(){const e="https://books-backend.p.goit.global/books/category-list";try{return(await v.get(e)).data}catch(o){throw o}}const oe=async()=>(await v.get("https://books-backend.p.goit.global/books/top-books")).data;async function W(e){const o="https://books-backend.p.goit.global/books/category",t=new URLSearchParams({category:e});try{return(await v.get(`${o}?${t}`)).data}catch(s){throw s}}async function ne(e){const o="https://books-backend.p.goit.global/books/";try{return await v.get(`${o}${e}`)}catch(t){throw t}}const b=e=>{const o=e.map(t=>{const s=t.title.toLowerCase(),r=Math.round(Number(t.price));return`<li class="books-gallery-card" data-id="${t._id}" >
          <div class="books-gallery-img-wrapper">
            <img
              class="books-gallery-img"
              src="${t.book_image}"
              alt="${t.description}"
              width="227"
            />
          </div>
          <div class="books-gallery-card-info">
            <div class="books-gallery-card-text">
              <h3 class="books-gallery-card-title">${s}</h3>
              <p class="books-gallery-card-author">${t.author}</p>
            </div>
            <p class="books-gallery-card-price">$${r}</p>
          </div>
          <button class="books-gallery-card-btn" type="button">
            Learn More
          </button>
        </li>`}).join("");n.galleryList.insertAdjacentHTML("beforeend",o)},se=e=>{const o=e.map(t=>{if(t.list_name!=="")return`<li class="books-nav-category-item">
          <a href="#">${t.list_name}</a>
        </li>`}).join("");n.categoryList.insertAdjacentHTML("beforeend",o)},re=e=>{const o=e.map(t=>{if(t.list_name!=="")return`<li class="books-dropdown-menu-item"><a href="#">${t.list_name}</a></li>`}).join("");n.dropdownMenu.insertAdjacentHTML("beforeend",o)},w=(e,o)=>{const t=`Showing ${e} of ${o}`;n.counter.textContent=t},I=()=>{n.galleryList.innerHTML=""},ae=()=>{n.categoryList.innerHTML=`<li class="books-nav-category-item">
          <a href="#">All categories</a>
        </li>`},ie=()=>{n.dropdownMenu.innerHTML='<li class="books-dropdown-menu-item"><a href="#">All categories</a></li>'},E=()=>{n.loader.classList.remove("is-hidden")},k=()=>{n.loader.classList.add("is-hidden")},L=()=>{n.showMoreBtn.classList.remove("is-hidden")},S=()=>{n.showMoreBtn.classList.add("is-hidden")},D=e=>{const o=new Set;return e.filter(t=>{const s=t.title.trim().toLowerCase();return o.has(s)?!1:(o.add(s),!0)})},y=24,x=10,T=4;let l=[],c=1;const u=()=>{const e=innerWidth<768?x:y,o=c===1?e:e+(c-1)*T;return Math.min(o,l.length)},le=async()=>{try{const e=await te();ie(),ae(),re(e.slice(0,50)),se(e.slice(0,50))}catch(e){d.error({message:`Error: ${e}`,position:"topRight"})}},A=async()=>{try{I(),c=1,E();const o=(await oe()).flatMap(t=>t.books);l=D(o),b(C(c)),w(u(),l.length),u()<l.length?L():S()}catch(e){d.error({message:`Error: ${e}`,position:"topRight"})}finally{k()}},ce=async e=>{try{if(e.target.textContent==="All categories")A();else{E(),e.preventDefault(),I(),c=1;const o=e.target.textContent.trim(),t=await W(o);l=D(t),b(C(c)),w(u(),l.length)}u()<l.length?L():S()}catch(o){d.error({message:`Error: ${o}`,position:"topRight"})}finally{k()}},de=async e=>{try{E(),c++,e.target.blur(),b(C(c)),w(u(),l.length),L(),u()>=l.length&&(S(),d.info({message:"We're sorry, but you've reached the end of search results.",position:"topRight"}));const o=n.galleryList.lastElementChild.getBoundingClientRect().height;scrollBy({top:o*1.2,behavior:"smooth"})}catch(o){d.error({message:`Error: ${o}`,position:"topRight"})}finally{k()}},C=e=>{if(e===1)return innerWidth<768?l.slice(0,x):l.slice(0,y);const t=(innerWidth<768?x:y)+(e-2)*T,s=t+T;return l.slice(t,s)},ue=e=>{n.dropdownMenu.classList.toggle("is-hidden")},me=async e=>{try{if(n.dropdownMenu.classList.add("is-hidden"),e.target.textContent==="All categories")n.dropdownToggleText.textContent="All categories",A();else{E(),e.preventDefault(),I(),c=1;const o=e.target.textContent.trim(),t=o;n.dropdownToggleText.textContent=t;const s=await W(o);l=D(s),b(C(c)),w(u(),l.length)}c*y<l.length?L():S()}catch(o){d.error({message:`Error: ${o}`,position:"topRight"})}finally{k()}},pe=e=>{const o=n.dropdownMenu.contains(e.target),t=n.dropdownToggle.contains(e.target);!o&&!t&&n.dropdownMenu.classList.add("is-hidden")};A();le();document.addEventListener("click",pe);n.categoryList.addEventListener("click",ce);n.showMoreBtn.addEventListener("click",de);n.dropdownToggle.addEventListener("click",ue);n.dropdownMenu.addEventListener("click",me);class he{constructor(o){this.element=o,this.focusableElements=[],this.firstFocusableElement=null,this.lastFocusableElement=null,this.previousActiveElement=null}getFocusableElements(){const o=["button","[href]","input","select","textarea",'[tabindex]:not([tabindex="-1"])'].join(",");this.focusableElements=Array.from(this.element.querySelectorAll(o)).filter(t=>!t.disabled&&!t.hidden&&t.offsetWidth>0&&t.offsetHeight>0),this.firstFocusableElement=this.focusableElements[0],this.lastFocusableElement=this.focusableElements[this.focusableElements.length-1]}activate(){this.previousActiveElement=document.activeElement,this.getFocusableElements(),this.firstFocusableElement&&this.firstFocusableElement.focus(),this.boundHandleKeyDown=this.handleKeyDown.bind(this),document.addEventListener("keydown",this.boundHandleKeyDown)}deactivate(){this.boundHandleKeyDown&&document.removeEventListener("keydown",this.boundHandleKeyDown),this.previousActiveElement&&this.previousActiveElement.focus()}handleKeyDown(o){if(o.key==="Tab"){if(this.getFocusableElements(),this.focusableElements.length===0){o.preventDefault();return}if(this.focusableElements.length===1){o.preventDefault(),this.firstFocusableElement.focus();return}o.shiftKey?document.activeElement===this.firstFocusableElement&&(o.preventDefault(),this.lastFocusableElement.focus()):document.activeElement===this.lastFocusableElement&&(o.preventDefault(),this.firstFocusableElement.focus())}}}let f=null,m=null;async function G(e){if(!n.bookModalContainerEl){d.error({title:"Error!",message:"Modal window not found, check refs.bookModalContainer"});return}try{const t=(await ne(e)).data;if(n.bookCover&&(n.bookCover.src=t.book_image,n.bookCover.alt=t.title),n.titleEl){const r=t.title.toLowerCase().split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1)).join(" ");n.titleEl.textContent=r}if(n.authorEl&&(n.authorEl.textContent=t.author),n.priceEl){let r=t.list_price||t.price||t.amazon_price;if(!r&&t.buy_links&&t.buy_links.length>0){const a=t.buy_links.find(i=>i.name==="Amazon");r=a==null?void 0:a.price}if(r){const a=parseFloat(r);isNaN(a)?n.priceEl.textContent=`$${r}`:n.priceEl.textContent=`$${Math.round(a)}`}else t.amazon_product_url?n.priceEl.innerHTML=`<a href="${t.amazon_product_url}" target="_blank" style="color: var(--color-bamboo); text-decoration: none;">Переглянути ціну на Amazon</a>`:n.priceEl.textContent="Ціна уточнюється"}if(n.detailsContent){const r=`
        <p><strong>Author:</strong> ${t.author}</p>
        <p><strong>Publisher:</strong> ${t.publisher||"Not specified"}</p>
        <p><strong>Book Category:</strong> ${t.list_name||"Not specified"}</p>
        <p><strong>Description:</strong> ${t.description||"No description available"}</p>
      `;n.detailsContent.innerHTML=r}n.shippingContent&&(n.shippingContent.innerHTML=`
        <p>Delivery Options:</p>
        <ul>
          <li>Standard Delivery: 3-7 business days</li>
          <li>Express Delivery: 1-3 business days</li>
          <li>Free shipping on orders over $50</li>
        </ul>
        <p>International shipping is available for most countries.</p>
      `),n.returnsContent&&(n.returnsContent.innerHTML=`
        <p>Return Policy:</p>
        <ul>
          <li>30-day return window</li>
          <li>Book must be in original condition</li>
          <li>Return shipping costs may apply</li>
          <li>Digital products are non-refundable</li>
        </ul>
        <p>Please contact customer service for more details about returns and refunds.</p>
      `),n.modalOverlay&&n.modalOverlay.classList.add("is-open"),document.body.style.overflow="hidden";const s=document.querySelector(".bm-window");s&&(f=new he(s),setTimeout(()=>{f.activate()},100)),setTimeout(()=>{fe()},100)}catch(o){d.error({title:"Error",message:`Book load error: ${o}`})}}function q(){f&&(f.deactivate(),f=null),m&&(m.destroy(),m=null),n.modalOverlay&&n.modalOverlay.classList.remove("is-open"),document.body.style.overflow=""}function fe(){m&&m.destroy(),m=new Q(".bm-accordion-container",{duration:300,ariaEnabled:!0,collapse:!0,showMultiple:!1,onlyChildNodes:!0,openOnInit:[],elementClass:"ac",triggerClass:"ac-trigger",panelClass:"ac-panel",activeClass:"is-active"})}let M=null;n.bookModalContainerEl.addEventListener("mousedown",e=>{M=e.target});n.bookModalContainerEl.addEventListener("mouseup",e=>{M===e.target&&(e.target===n.bookModalContainerEl||e.target.classList.contains("bm-overlay"))&&q(),M=null});document.addEventListener("keydown",e=>{if(e.key==="Escape"){const o=document.querySelector(".bm-overlay");o&&o.classList.contains("is-open")&&q()}});n.closeButton&&n.closeButton.addEventListener("click",q);n.decreaseBtn&&n.increaseBtn&&n.quantityInput&&(n.decreaseBtn.addEventListener("click",()=>{let e=parseInt(n.quantityInput.value)||1;e>1&&(n.quantityInput.value=e-1)}),n.increaseBtn.addEventListener("click",()=>{let e=parseInt(n.quantityInput.value)||1;n.quantityInput.value=e+1}),n.quantityInput.addEventListener("input",()=>{let e=parseInt(n.quantityInput.value);(isNaN(e)||e<1)&&(n.quantityInput.value=1)}),n.quantityInput.addEventListener("blur",()=>{let e=parseInt(n.quantityInput.value);(isNaN(e)||e<1)&&(n.quantityInput.value=1)}));n.addToCartBtn&&n.addToCartBtn.addEventListener("click",e=>{e.preventDefault();const o=parseInt(n.quantityInput.value)||1,t=n.titleEl.textContent;d.success({message:`${o}x of "${t}" added to cart `,position:"topRight"})});n.buyNowBtn&&n.buyNowBtn.addEventListener("click",e=>{e.preventDefault(),d.success({message:"Thank you for the purchase",position:"topRight"}),q()});window.showBookModal=G;document.addEventListener("click",e=>{var t,s,r,a;if(e.target.classList.contains("books-gallery-card-btn")||((t=e.target.textContent)==null?void 0:t.trim())==="Learn More"||((s=e.target.innerText)==null?void 0:s.trim())==="Learn More"||((a=(r=e.target.closest("button"))==null?void 0:r.textContent)==null?void 0:a.trim())==="Learn More"){let i=e.target.closest("li[data-id]")||e.target.closest("li")||e.target.closest("[data-id]");i&&i.dataset.id&&(e.preventDefault(),e.stopPropagation(),G(i.dataset.id))}});const ye=[{text:"Great selection, fast delivery, and beautifully packaged books. My go-to store for weekend reads!",firstName:"Jane",lastName:"Doe",role:"Book Lover, Reader",avatar:"/readly/feedbacks/avatar-jane.jpg"},{text:"Customer service was super helpful, and my order arrived earlier than expected. Highly recommend!",firstName:"John",lastName:" Smith",role:"Editor, BookMag",avatar:"/readly/feedbacks/avatar-john.jpg"},{text:"Love the curated picks and clear descriptions. Makes it easy to find my next favorite book.",firstName:"Emily",lastName:"Johnsonuk",role:"Author, Novelist",avatar:""},{text:"Amazing experience! I will definitely come back.",firstName:"Liam",lastName:"Green",role:"Book Collector",avatar:""},{text:"Books came in perfect condition. Thank you!",firstName:"Olivia",lastName:"Brown",role:"Student",avatar:""},{text:"Fast service and high-quality packaging.",firstName:"Ethan",lastName:"Wilson",role:"Library Assistant",avatar:""},{text:"Nice recommendations and filters. Easy to use!",firstName:"Ava",lastName:"Davis",role:"Book Blogger",avatar:""},{text:"Loved the gift wrap option! Perfect for birthdays.",firstName:"Noah",lastName:"Taylor",role:"Dad, Reader",avatar:""},{text:"User-friendly site and quick checkout.",firstName:"Isabella",lastName:"Moore",role:"Journalist",avatar:""},{text:"Always on time and reliable.",firstName:"Mason",lastName:"Thomas",role:"Book Reviewer",avatar:""},{text:"One of the best book platforms I've used!",firstName:"Sophia",lastName:"White",role:"Writer",avatar:""},{text:"Responsive support and great selection!",firstName:"Lucas",lastName:"Hall",role:"Reader",avatar:""}];function K(e="default",o=""){let t=null;if(!e.trim()&&!o.trim())return t="default",t;t=`${e[0]||""}${o[0]||""}`.toUpperCase();function s(){const a=Math.floor(Math.random()*128),i=Math.floor(Math.random()*128),Y=Math.floor(Math.random()*128);return`#${[a,i,Y].map(J=>J.toString(16).padStart(2,"0")).join("")}`}return`<svg class="avatar" xmlns="http://www.w3.org/2000/svg" width="48" height="48">
      <rect width="48" height="48" fill="${s()}" />
      <text x="50%" y="55%" dominant-baseline="middle" text-anchor="middle"
            font-size="18" font-family="Arial" fill="#fff">
        ${t}
      </text>
    </svg>
  `}K("alex dulit");const ge=document.querySelector(".feedback-list");ye.forEach((e,o)=>{const t=document.createElement("li");t.classList.add("swiper-slide","feedback-item");const s=`${e.firstName} ${e.lastName}`,r=e.avatar.trim()!==""?`<img src="${e.avatar}" alt="${s}" class="avatar" loading="lazy" />`:K(e.firstName,e.lastName);t.innerHTML=`
    <div class="feedback-card">
      <p class="quote">"${e.text}"</p>
      <div class="author">
        ${r}
        <div>
          <p class="name">${s}</p>
          <p class="role">${e.role}</p>
        </div>
      </div>
    </div>
  `,ge.appendChild(t)});const g=new B(".feedback-swiper",{modules:[z,j],spaceBetween:24,slidesPerView:1,slidesPerGroup:1,allowTouchMove:!0,navigation:{nextEl:".next-btn",prevEl:".prev-btn"},keyboard:{enabled:!0},a11y:!0,breakpoints:{0:{slidesPerView:1,slidesPerGroup:1,spaceBetween:0},768:{slidesPerView:2,slidesPerGroup:1,spaceBetween:24},1440:{slidesPerView:3,slidesPerGroup:1,spaceBetween:24}},on:{init:()=>H(0),slideChange:()=>{const e=Math.floor(g.activeIndex/g.params.slidesPerGroup);H(e)}}});document.querySelectorAll(".dot").forEach((e,o)=>{e.addEventListener("click",()=>{g.slideTo(o*g.params.slidesPerGroup)})});function H(e){document.querySelectorAll(".dot").forEach((o,t)=>{o.classList.toggle("active",t===e)})}let h;const R=document.querySelector(".event-list");function U(){window.innerWidth<1440?(R.classList.remove("desktop-layout"),h||(h=new B(".event-list",{direction:"horizontal",slidesPerView:1,spaceBetween:24,keyboard:{enabled:!0,onlyInViewport:!0},navigation:{nextEl:".js-events-slider-forward",prevEl:".js-events-slider-prev"},pagination:{el:".events-pagination",clickable:!0},a11y:{enabled:!0,slideRole:""},breakpoints:{768:{slidesPerView:2,spaceBetween:24}}}))):(R.classList.add("desktop-layout"),h&&(h.destroy(!0,!0),h=null))}U();window.addEventListener("resize",()=>{U()});class ve{constructor(){var o;this.modal=document.querySelector("[data-contact-modal]"),this.modalContent=(o=this.modal)==null?void 0:o.querySelector(".contact-modal-wrapper"),this.openBtns=document.querySelectorAll("[data-contact-open]"),this.closeBtn=document.querySelector("[data-contact-close]"),this.form=document.querySelector("[data-contact-form]"),this.eventNameEl=document.querySelector("[data-event-name]"),this.successMessage=document.querySelector("[data-success-message]"),this.isOpen=!1,this.currentEvent="",this.isFormInteraction=!1,this.mouseDownOnOverlay=!1,this.init()}init(){this.modal&&(this.bindEvents(),this.setupFormValidation(),this.bindOpenButtons())}bindOpenButtons(){this.openBtns.forEach(o=>{o.addEventListener("click",t=>{t.preventDefault(),this.open(o)})})}open(o=null){if(!this.isOpen){if(o){const t=o.closest(".event-card"),s=t==null?void 0:t.querySelector(".event-subhead");s&&this.eventNameEl&&(this.currentEvent=s.textContent.trim(),this.eventNameEl.textContent=this.currentEvent)}this.resetForm(),this.form.style.display="flex",this.successMessage.style.display="none",this.modal.classList.add("contact-modal-is-open"),document.body.style.overflow="hidden",this.isOpen=!0,this.isFormInteraction=!1,this.mouseDownOnOverlay=!1,setTimeout(()=>{var s;const t=(s=this.form)==null?void 0:s.querySelector("input");t&&(t.focus(),this.isFormInteraction=!0)},300)}}close(){this.isOpen&&(this.modal.classList.remove("contact-modal-is-open"),document.body.style.overflow="",this.isOpen=!1,this.isFormInteraction=!1,this.mouseDownOnOverlay=!1,setTimeout(()=>{this.resetForm()},300))}bindEvents(){var o,t;(o=this.closeBtn)==null||o.addEventListener("click",s=>{s.stopPropagation(),this.close()}),this.modal.addEventListener("mousedown",s=>{s.target===this.modal&&(this.mouseDownOnOverlay=!0,this.isFormInteraction=!1)}),this.modal.addEventListener("mouseup",s=>{s.target===this.modal&&this.mouseDownOnOverlay&&!this.isFormInteraction&&this.close(),this.mouseDownOnOverlay=!1}),this.modalContent&&(this.modalContent.addEventListener("mousedown",s=>{this.isFormInteraction=!0,this.mouseDownOnOverlay=!1,s.stopPropagation()}),this.modalContent.addEventListener("click",s=>{s.stopPropagation()})),document.addEventListener("keydown",s=>{s.key==="Escape"&&this.isOpen&&this.close()}),(t=this.form)==null||t.addEventListener("submit",s=>this.handleSubmit(s))}setupFormValidation(){if(!this.form)return;this.form.querySelectorAll("input, textarea").forEach(t=>{t.addEventListener("input",s=>{this.handleInputFormatting(s),this.validateField(t)}),t.addEventListener("blur",()=>this.validateField(t)),t.addEventListener("focus",()=>{this.hideFieldError(t),this.isFormInteraction=!0}),t.addEventListener("mousedown",s=>{this.isFormInteraction=!0,this.mouseDownOnOverlay=!1,s.stopPropagation()})})}handleInputFormatting(o){const t=o.target,s=t.selectionStart;let r=t.value;if(t.type==="text"||t.tagName==="TEXTAREA"){const a=r.replace(/\s{2,}/g," ");if(a!==r){t.value=a;const i=r.length-a.length;t.setSelectionRange(Math.max(0,s-i),Math.max(0,s-i))}}if(t.type==="email"){const a=r.replace(/\s/g,"");a!==r&&(t.value=a,t.setSelectionRange(s-1,s-1))}}validateField(o){const t=o.parentNode.querySelector(".contact-modal-error");if(!t)return!0;let s=!0,r="";const a=o.value.trim();return o.name==="name"&&(a?a.length<2?(s=!1,r="Name must be at least 2 characters"):a.length>50?(s=!1,r="Name must be less than 50 characters"):/^[\p{L}\p{M}\s'\-]+$/u.test(a)||(s=!1,r="Name can only contain letters, spaces, hyphens and apostrophes"):(s=!1,r="Name is required")),o.name==="email"&&(a?/^[a-zA-Z0-9._%+\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,}$/.test(a)||(s=!1,r="Please enter a valid email address"):(s=!1,r="Email is required")),o.name==="message"&&o.value.length>500&&(s=!1,r="Message must be less than 500 characters"),t.textContent=r,s?(o.classList.remove("contact-modal-invalid"),o.classList.add("contact-modal-valid")):(o.classList.remove("contact-modal-valid"),o.classList.add("contact-modal-invalid")),s}hideFieldError(o){o.parentNode.querySelector(".contact-modal-error")}validateForm(){if(!this.form)return!1;const o=this.form.querySelectorAll("input[required], textarea[required]");let t=!0;return o.forEach(s=>{this.validateField(s)||(t=!1)}),t}async handleSubmit(o){if(o.preventDefault(),o.stopPropagation(),this.form.querySelectorAll("input, textarea").forEach(a=>{a.type!=="email"&&(a.value=a.value.trim())}),!this.validateForm()){const a=this.form.querySelector(".contact-modal-invalid");a&&a.focus();return}const s=this.form.querySelector('button[type="submit"]'),r=(s==null?void 0:s.textContent)||"Register";try{s&&(s.disabled=!0,s.textContent="Registering..."),await this.simulateSubmission(),this.showSuccess()}catch(a){console.error("Registration failed:",a),this.showError("Registration failed. Please try again.")}finally{s&&(s.disabled=!1,s.textContent=r)}}async simulateSubmission(){return new Promise(o=>{setTimeout(o,1500)})}showSuccess(){this.successMessage&&(this.form.style.display="none",this.successMessage.style.display="flex",setTimeout(()=>{this.close()},3e3))}showError(o){alert(o)}resetForm(){if(!this.form)return;this.form.reset(),this.form.querySelectorAll("input, textarea").forEach(s=>{s.classList.remove("contact-modal-valid","contact-modal-invalid")}),this.form.querySelectorAll(".contact-modal-error").forEach(s=>{s.textContent=""}),this.successMessage&&(this.successMessage.style.display="none")}}document.addEventListener("DOMContentLoaded",()=>{new ve});const p=document.getElementById("signupModal"),be=document.getElementById("signupBtn"),we=document.querySelector(".close-btn"),V=document.getElementById("customAlert"),Ee=document.getElementById("alertText");function ke(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function _(e){Ee.textContent=e,V.style.display="block",setTimeout(()=>{V.style.display="none"},3e3)}be.addEventListener("click",function(e){e.preventDefault();const o=document.getElementById("emailInput"),t=o.value.trim();if(!t){_("Enter email please.");return}if(!ke(t)){_("Wrong email. Please try again!");return}localStorage.setItem("userEmail",t),o.value="",p.style.display="block"});we.onclick=function(){p.style.display="none"};window.onclick=function(e){e.target===p&&(p.style.display="none")};document.addEventListener("keydown",function(e){e.key==="Escape"&&p.style.display==="block"&&(p.style.display="none")});class Le{constructor(){this.button=document.getElementById("scrollToTop"),this.scrollThreshold=300,this.button&&this.init()}init(){window.addEventListener("scroll",()=>this.toggleButton()),this.button.addEventListener("click",()=>this.scrollToTop())}toggleButton(){(window.pageYOffset||document.documentElement.scrollTop)>this.scrollThreshold?this.button.classList.add("visible"):this.button.classList.remove("visible")}scrollToTop(){window.scrollTo({top:0,behavior:"smooth"})}}document.addEventListener("DOMContentLoaded",()=>{new Le});
//# sourceMappingURL=index.js.map
