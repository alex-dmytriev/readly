import{S as v,N as f,P as g,A,a as b}from"./assets/vendor-mCrKYcTL.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const h of n.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function o(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function s(a){if(a.ep)return;a.ep=!0;const n=o(a);fetch(a.href,n)}})();const r={headerContainerEl:document.querySelector(".header-container"),heroContainerEl:document.querySelector(".hero-container"),booksContainerEl:document.querySelector(".books-container"),feedbacksContainerEl:document.querySelector(".feedbacks-container"),eventsContainerEl:document.querySelector(".events-container"),contactModalContainerEl:document.querySelector(".contact-modal-container"),bookModalContainerEl:document.querySelector(".bm-container"),footerContainerEl:document.querySelector(".footer-container"),heroSection:document.querySelector(".hero"),openBtn:document.querySelector(".mobile-open-menu-btn"),closeBtn:document.querySelector(".mobile-menu-close-btn"),mobileMenu:document.querySelector(".mobile-menu"),mobileNavLinks:document.querySelectorAll(".mobile-page-menu-link"),desktopNavLinks:document.querySelectorAll(".page-menu-link"),header:document.querySelector(".header"),body:document.body,galleryList:document.querySelector(".books-gallery-list"),categoryList:document.querySelector(".books-nav-category"),showMoreBtn:document.querySelector(".books-gallery-btn"),loader:document.querySelector(".loader")};r.openBtn.addEventListener("click",()=>{r.mobileMenu.classList.add("is-open"),r.body.classList.add("menu-open")});r.closeBtn.addEventListener("click",()=>{r.mobileMenu.classList.remove("is-open"),r.body.classList.remove("menu-open")});let u=r.header.offsetHeight;console.log("before:",u);window.addEventListener("resize",()=>{u=r.header.offsetHeight,console.log("after:",u)});function O(t){const e=document.querySelector(t);if(e){const o=e.offsetTop-u;window.scrollTo({top:o,behavior:"smooth"})}}r.mobileNavLinks.forEach(t=>{t.addEventListener("click",e=>{const o=t.getAttribute("href");O(o),r.mobileMenu.classList.remove("is-open"),r.body.classList.remove("menu-open")})});r.desktopNavLinks.forEach(t=>{t.addEventListener("click",e=>{e.preventDefault();const o=t.getAttribute("href");O(o)})});let q=window.pageYOffset;window.addEventListener("scroll",()=>{const t=window.pageYOffset;t>q&&t>100?r.header.classList.add("hide-on-scroll"):r.header.classList.remove("hide-on-scroll"),q=t});r.heroSection&&(r.heroSection.style.paddingTop=`${u}px`);new v(".hero-swiper",{modules:[f,g,A],loop:!0,navigation:{nextEl:".hero-swiper-btn-next",prevEl:".hero-swiper-btn-prev"},grabCursor:!0,keyboard:{enabled:!0,onlyInViewport:!0},pagination:{el:".hero-swiper-pagination",clickable:!0},speed:800,autoplay:{delay:3e3,disableOnInteraction:!1}});async function V(){const t="https://books-backend.p.goit.global/books/category-list";try{return(await b.get(t)).data}catch(e){throw e}}const $=async()=>(await b.get("https://books-backend.p.goit.global/books/top-books")).data;async function F(t){const e="https://books-backend.p.goit.global/books/category",o=new URLSearchParams({category:t});try{return(await b.get(`${e}?${o}`)).data}catch(s){throw s}}const w=t=>{const e=t.map(o=>{const s=o.title.toLowerCase(),a=Math.round(Number(o.price));return`<li class="books-gallery-card" data-id="${o._id}" >
          <div class="books-gallery-img-wrapper">
            <img
              class="books-gallery-img"
              src="${o.book_image}"
              alt="${o.description}"
              width="227"
              height="323"
            />
          </div>
          <div class="books-gallery-card-info">
            <div class="books-gallery-card-text">
              <h3 class="books-gallery-card-title">${s}</h3>
              <p class="books-gallery-card-author">${o.author}</p>
            </div>
            <p class="books-gallery-card-price">$${a}</p>
          </div>
          <button class="books-gallery-card-btn" type="button">
            Learn More
          </button>
        </li>`}).join("");r.galleryList.insertAdjacentHTML("beforeend",e)},H=t=>{const e=t.map(o=>{if(o.list_name!=="")return`<li class="books-nav-category-item">
          <a href="#">${o.list_name}</a>
        </li>`}).join("");r.categoryList.innerHTML=e},D=()=>{r.galleryList.innerHTML=""},G=()=>{r.categoryList.innerHTML=""},E=()=>{r.loader.classList.remove("is-hidden")},k=()=>{r.loader.classList.add("is-hidden")},L=()=>{r.showMoreBtn.classList.remove("is-hidden")},S=()=>{r.showMoreBtn.classList.add("is-hidden")},m=24;let c=[],l=1;const R=async()=>{try{G();const t=await V();H(t.slice(15))}catch(t){console.log(t)}},z=async()=>{try{D(),l=1,E(),c=(await $()).flatMap(o=>o.books),w(x(l)),l*m<c.length?L():S()}catch(t){console.log(t)}finally{k()}},J=async t=>{try{E(),t.preventDefault(),D(),l=1;const e=t.target.textContent.trim();c=await F(e),w(x(l)),l*m<c.length?L():S()}catch(e){console.log(e)}finally{k()}},W=async t=>{try{E(),l++,t.target.blur(),w(x(l)),L(),l*m>=c.length&&S();const e=r.galleryList.lastElementChild.getBoundingClientRect().height;scrollBy({top:e*2,behavior:"smooth"})}catch(e){console.log(e)}finally{k()}},x=t=>{const e=(t-1)*m,o=e+m;return c.slice(e,o)};z();R();r.categoryList.addEventListener("click",J);r.showMoreBtn.addEventListener("click",W);function B(){const t=getComputedStyle(document.documentElement).getPropertyValue("--scroll-top");r.bookModalContainerEl.classList.remove("is-open"),document.body.classList.remove("modal-open"),document.documentElement.classList.remove("modal-open"),document.documentElement.style.removeProperty("--scroll-top"),document.documentElement.style.removeProperty("--scrollbar-width"),t&&window.scrollTo(0,parseInt(t.replace("-","").replace("px","")))}const _=document.querySelectorAll(".bm-accordion-header");_.forEach(t=>{t.addEventListener("click",()=>{const e=t.getAttribute("data-target"),o=document.getElementById(e);o.classList.contains("active")?(o.style.height=o.scrollHeight+"px",o.offsetHeight,o.style.height="0",o.classList.remove("active"),t.setAttribute("aria-expanded","false")):(o.classList.add("active"),o.style.height=o.scrollHeight+"px",t.setAttribute("aria-expanded","true"),o.addEventListener("transitionend",function a(){o.classList.contains("active")&&(o.style.height="auto",o.removeEventListener("transitionend",a))}))})});r.bookModalContainerEl.addEventListener("click",t=>{t.target===r.bookModalContainerEl&&B()});document.addEventListener("keydown",t=>{t.key==="Escape"&&r.bookModalContainerEl.classList.contains("is-open")&&B()});const M=document.querySelector(".bm-close");M&&M.addEventListener("click",B);const C=document.getElementById("decreaseBtn"),P=document.getElementById("increaseBtn"),i=document.getElementById("quantity");C&&P&&i&&(C.addEventListener("click",()=>{let t=parseInt(i.value)||1;t>1&&(i.value=t-1)}),P.addEventListener("click",()=>{let t=parseInt(i.value)||1;i.value=t+1}),i.addEventListener("input",()=>{let t=parseInt(i.value);(isNaN(t)||t<1)&&(i.value=1)}),i.addEventListener("blur",()=>{let t=parseInt(i.value);(isNaN(t)||t<1)&&(i.value=1)}));const Y=[{text:"Great selection, fast delivery, and beautifully packaged books. My go-to store for weekend reads!",name:"Jane Doe",role:"Book Lover, Reader",avatar:"https://ui-avatars.com/api/?name=Jane+Doe&background=random"},{text:"Customer service was super helpful, and my order arrived earlier than expected. Highly recommend!",name:"John Smith",role:"Editor, BookMag",avatar:"https://ui-avatars.com/api/?name=John+Smith&background=random"},{text:"Love the curated picks and clear descriptions. Makes it easy to find my next favorite book.",name:"Emily Johnson",role:"Author, Novelist",avatar:"https://ui-avatars.com/api/?name=Emily+Johnson&background=random"},{text:"Amazing experience! Iâ€™ll definitely come back.",name:"Liam Green",role:"Book Collector",avatar:"https://ui-avatars.com/api/?name=Liam+Green&background=random"},{text:"Books came in perfect condition. Thank you!",name:"Olivia Brown",role:"Student",avatar:"https://ui-avatars.com/api/?name=Olivia+Brown&background=random"},{text:"Fast service and high-quality packaging.",name:"Ethan Wilson",role:"Library Assistant",avatar:"https://ui-avatars.com/api/?name=Ethan+Wilson&background=random"},{text:"Nice recommendations and filters. Easy to use!",name:"Ava Davis",role:"Book Blogger",avatar:"https://ui-avatars.com/api/?name=Ava+Davis&background=random"},{text:"Loved the gift wrap option! Perfect for birthdays.",name:"Noah Taylor",role:"Dad, Reader",avatar:"https://ui-avatars.com/api/?name=Noah+Taylor&background=random"},{text:"User-friendly site and quick checkout.",name:"Isabella Moore",role:"Journalist",avatar:"https://ui-avatars.com/api/?name=Isabella+Moore&background=random"},{text:"Always on time and reliable.",name:"Mason Thomas",role:"Book Reviewer",avatar:"https://ui-avatars.com/api/?name=Mason+Thomas&background=random"},{text:"One of the best book platforms I've used!",name:"Sophia White",role:"Writer",avatar:"https://ui-avatars.com/api/?name=Sophia+White&background=random"},{text:"Responsive support and great selection!",name:"Lucas Hall",role:"Reader",avatar:"https://ui-avatars.com/api/?name=Lucas+Hall&background=random"}],j=document.querySelector(".feedback-list");Y.forEach(t=>{const e=document.createElement("li");e.classList.add("swiper-slide"),e.classList.add("feedback-item"),e.innerHTML=`
    <div class="feedback-card">
      <p class="quote">"${t.text}"</p>
      <div class="author">
        <img src="${t.avatar}" alt="${t.name}" class="avatar" />
        <div>
          <p class="name">${t.name}</p>
          <p class="role">${t.role}</p>
        </div>
      </div>
    </div>
  `,j.appendChild(e)});const p=new v(".feedback-swiper",{modules:[f,g],spaceBetween:24,slidesPerView:1,slidesPerGroup:1,allowTouchMove:!0,navigation:{nextEl:".next-btn",prevEl:".prev-btn"},keyboard:{enabled:!0},a11y:!0,breakpoints:{0:{slidesPerView:1,slidesPerGroup:1,spaceBetween:0},768:{slidesPerView:2,slidesPerGroup:2,spaceBetween:24},1440:{slidesPerView:3,slidesPerGroup:3,spaceBetween:24}},on:{init:()=>I(0),slideChange:()=>{const t=Math.floor(p.activeIndex/p.params.slidesPerGroup);I(t)}}});document.querySelectorAll(".dot").forEach((t,e)=>{t.addEventListener("click",()=>{p.slideTo(e*p.params.slidesPerGroup)})});function I(t){document.querySelectorAll(".dot").forEach((e,o)=>{e.classList.toggle("active",o===t)})}class Z{constructor(){this.modal=document.querySelector("[data-contact-modal]"),this.openBtns=document.querySelectorAll("[data-contact-open]"),this.closeBtn=document.querySelector("[data-contact-close]"),this.form=document.querySelector("[data-contact-form]"),this.eventNameEl=document.querySelector("[data-event-name]"),this.successMessage=document.querySelector("[data-success-message]"),this.isOpen=!1,this.currentEvent="",this.init()}init(){this.modal&&(this.bindEvents(),this.setupFormValidation())}bindEvents(){var e,o;(e=this.closeBtn)==null||e.addEventListener("click",()=>this.close()),this.modal.addEventListener("click",s=>{s.target===this.modal&&this.close()}),document.addEventListener("keydown",s=>{s.key==="Escape"&&this.isOpen&&this.close()}),(o=this.form)==null||o.addEventListener("submit",s=>this.handleSubmit(s))}setupFormValidation(){if(!this.form)return;this.form.querySelectorAll("input, textarea").forEach(o=>{o.addEventListener("input",()=>this.validateField(o)),o.addEventListener("blur",()=>this.validateField(o)),o.addEventListener("focus",()=>this.hideFieldError(o))})}validateField(e){const o=e.parentNode.querySelector(".error-text");if(!o)return;let s=!0,a="";if(e.name==="name"&&(e.value.trim()?e.value.trim().length<2?(s=!1,a="Name must be at least 2 characters"):e.value.trim().length>50&&(s=!1,a="Name must be less than 50 characters"):(s=!1,a="Name is required")),e.name==="email"){const n=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;e.value.trim()?n.test(e.value)||(s=!1,a="Please enter a valid email address"):(s=!1,a="Email is required")}return e.name==="message"&&e.value.length>500&&(s=!1,a="Message must be less than 500 characters"),o.textContent=a,s?(e.classList.remove("invalid"),e.classList.add("valid")):(e.classList.remove("valid"),e.classList.add("invalid")),s}hideFieldError(e){e.parentNode.querySelector(".error-text")}validateForm(){if(!this.form)return!1;const e=this.form.querySelectorAll("input[required], textarea[required]");let o=!0;return e.forEach(s=>{this.validateField(s)||(o=!1)}),o}async handleSubmit(e){if(e.preventDefault(),!this.validateForm()){const a=this.form.querySelector(".invalid");a&&a.focus();return}const o=this.form.querySelector(".contact-form-btn"),s=o.textContent;try{o.disabled=!0,o.textContent="Registering...",await this.simulateSubmission(),this.showSuccess()}catch(a){console.error("Registration failed:",a),this.showError("Registration failed. Please try again.")}finally{o.disabled=!1,o.textContent=s}}async simulateSubmission(){return new Promise(e=>{setTimeout(e,1500)})}showSuccess(){this.successMessage&&(this.form.style.display="none",this.successMessage.style.display="flex",setTimeout(()=>{this.close()},3e3))}showError(e){alert(e)}open(e=""){if(this.isOpen)return;this.currentEvent=e,this.eventNameEl&&e&&(this.eventNameEl.textContent=e),this.resetForm(),this.form.style.display="flex",this.successMessage.style.display="none",this.modal.classList.add("is-open"),this.isOpen=!0;const o=this.form.querySelector("input");o&&setTimeout(()=>o.focus(),300),document.body.style.overflow="hidden"}close(){this.isOpen&&(this.modal.classList.remove("is-open"),this.isOpen=!1,document.body.style.overflow="",setTimeout(()=>{this.resetForm()},300))}resetForm(){if(!this.form)return;this.form.reset(),this.form.querySelectorAll("input, textarea").forEach(s=>{s.classList.remove("valid","invalid")}),this.form.querySelectorAll(".error-text").forEach(s=>{s.textContent=""})}}let y;document.addEventListener("DOMContentLoaded",()=>{y=new Z});function Q(t){y&&y.open(t)}class U{constructor(){this.eventsSection=document.querySelector(".events"),this.swiperContainer=document.querySelector(".events-swiper"),this.swiper=null,this.init()}init(){!this.eventsSection||!this.swiperContainer||(this.initSwiper(),this.bindEvents())}initSwiper(){this.swiper=new v(".events-swiper",{modules:[f,g,A],direction:"horizontal",loop:!0,centeredSlides:!1,slidesPerView:1,spaceBetween:20,breakpoints:{640:{slidesPerView:1,spaceBetween:24},768:{slidesPerView:2,spaceBetween:28},1024:{slidesPerView:2.5,spaceBetween:32},1440:{slidesPerView:3,spaceBetween:40}},navigation:{nextEl:".events-swiper-button-next",prevEl:".events-swiper-button-prev"},pagination:{el:".events-swiper-pagination",clickable:!0,dynamicBullets:!0},autoplay:{delay:4e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},speed:600,effect:"slide",a11y:{prevSlideMessage:"Previous event",nextSlideMessage:"Next event",paginationBulletMessage:"Go to event {{index}}"},on:{init:()=>{console.log("Events Swiper initialized")},slideChange:()=>{}}})}bindEvents(){this.eventsSection.addEventListener("click",this.handleEventClick.bind(this)),this.swiperContainer.addEventListener("mouseenter",()=>{this.swiper&&this.swiper.autoplay&&this.swiper.autoplay.stop()}),this.swiperContainer.addEventListener("mouseleave",()=>{this.swiper&&this.swiper.autoplay&&this.swiper.autoplay.start()})}handleEventClick(e){const o=e.target.closest(".events-btn");if(o){e.preventDefault();const s=o.dataset.event;Q(s),this.swiper&&this.swiper.autoplay&&this.swiper.autoplay.stop()}}nextSlide(){this.swiper&&this.swiper.slideNext()}prevSlide(){this.swiper&&this.swiper.slidePrev()}goToSlide(e){this.swiper&&this.swiper.slideTo(e)}destroy(){this.swiper&&(this.swiper.destroy(!0,!0),this.swiper=null)}}document.addEventListener("DOMContentLoaded",()=>{new U});const d=document.getElementById("signupModal"),K=document.getElementById("signupBtn"),X=document.querySelector(".close"),T=document.getElementById("customAlert"),ee=document.getElementById("alertText");function te(t){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(t)}function N(t){ee.textContent=t,T.style.display="block",setTimeout(()=>{T.style.display="none"},3e3)}K.addEventListener("click",function(t){t.preventDefault();const e=document.getElementById("email"),o=e.value.trim();if(!o){N("Enter email please.");return}if(!te(o)){N("Wrong email. Please try again!");return}localStorage.setItem("userEmail",o),e.value="",d.style.display="block"});X.onclick=function(){d.style.display="none"};window.onclick=function(t){t.target===d&&(d.style.display="none")};document.addEventListener("keydown",function(t){t.key==="Escape"&&d.style.display==="block"&&(d.style.display="none")});
//# sourceMappingURL=index.js.map
