import{S as C,N as _,P as H,A as W,a as g}from"./assets/vendor-DAu3bzop.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function o(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=o(a);fetch(a.href,s)}})();const r={headerContainerEl:document.querySelector(".header-container"),heroContainerEl:document.querySelector(".hero-container"),booksContainerEl:document.querySelector(".books-container"),feedbacksContainerEl:document.querySelector(".feedbacks-container"),eventsContainerEl:document.querySelector(".events-container"),contactModalContainerEl:document.querySelector(".contact-modal-container"),bookModalContainerEl:document.querySelector(".bm-container"),footerContainerEl:document.querySelector(".footer-container"),heroSection:document.querySelector(".hero"),openBtn:document.querySelector(".mobile-open-menu-btn"),closeBtn:document.querySelector(".mobile-menu-close-btn"),mobileMenu:document.querySelector(".mobile-menu"),mobileNavLinks:document.querySelectorAll(".mobile-page-menu-link"),desktopNavLinks:document.querySelectorAll(".page-menu-link"),header:document.querySelector(".header"),body:document.body,galleryList:document.querySelector(".books-gallery-list"),categoryList:document.querySelector(".books-nav-category"),showMoreBtn:document.querySelector(".books-gallery-btn"),loader:document.querySelector(".loader"),counter:document.querySelector(".books-nav-counter"),dropdownMenu:document.querySelector(".books-dropdown-menu"),dropdownToggle:document.querySelector(".books-dropdown-toggle")};r.header.offsetHeight;r.openBtn.addEventListener("click",()=>{r.mobileMenu.classList.add("is-open"),r.body.classList.add("menu-open")});r.closeBtn.addEventListener("click",()=>{r.mobileMenu.classList.remove("is-open"),r.body.classList.remove("menu-open")});r.mobileNavLinks.forEach(e=>{e.addEventListener("click",()=>{r.mobileMenu.classList.remove("is-open"),r.body.classList.remove("menu-open")})});new C(".hero-swiper",{modules:[_,H,W],loop:!0,navigation:{nextEl:".hero-swiper-btn-next",prevEl:".hero-swiper-btn-prev"},grabCursor:!0,keyboard:{enabled:!0,onlyInViewport:!0},speed:500,autoplay:{delay:5e3,disableOnInteraction:!1}});const Q=document.querySelectorAll(".hero-swiper-btn-prev, .hero-swiper-btn-next");Q.forEach(e=>{e.addEventListener("mouseup",()=>{e.blur()})});document.querySelectorAll(".banner-btn").forEach(e=>{e.addEventListener("mouseup",()=>{e.blur()})});async function Z(){const e="https://books-backend.p.goit.global/books/category-list";try{return(await g.get(e)).data}catch(t){throw t}}const U=async()=>(await g.get("https://books-backend.p.goit.global/books/top-books")).data;async function G(e){const t="https://books-backend.p.goit.global/books/category",o=new URLSearchParams({category:e});try{return(await g.get(`${t}?${o}`)).data}catch(n){throw n}}async function K(e){const t="https://books-backend.p.goit.global/books/";try{return await g.get(`${t}${e}`)}catch(o){throw o}}const f=e=>{const t=e.map(o=>{const n=o.title.toLowerCase(),a=Math.round(Number(o.price));return`<li class="books-gallery-card" data-id="${o._id}" >
          <div class="books-gallery-img-wrapper">
            <img
              class="books-gallery-img"
              src="${o.book_image}"
              alt="${o.description}"
              width="227"
              height="323"
            />
          </div>
          <div class="books-gallery-card-info">
            <div class="books-gallery-card-text">
              <h3 class="books-gallery-card-title">${n}</h3>
              <p class="books-gallery-card-author">${o.author}</p>
            </div>
            <p class="books-gallery-card-price">$${a}</p>
          </div>
          <button class="books-gallery-card-btn" type="button">
            Learn More
          </button>
        </li>`}).join("");r.galleryList.insertAdjacentHTML("beforeend",t)},X=e=>{if(innerWidth<1440){const t=e.map(o=>{if(o.list_name!=="")return`<li class="books-dropdown-menu-item"><a href="#">${o.list_name}</a></li>`}).join("");r.dropdownMenu.innerHTML=t}else{const t=e.map(o=>{if(o.list_name!=="")return`<li class="books-nav-category-item">
          <a href="#">${o.list_name}</a>
        </li>`}).join("");r.categoryList.innerHTML=t}},v=(e,t)=>{const o=`Showing ${e} of ${t}`;r.counter.textContent=o},M=()=>{r.galleryList.innerHTML=""},Y=()=>{r.categoryList.innerHTML=""},b=()=>{r.loader.classList.remove("is-hidden")},k=()=>{r.loader.classList.add("is-hidden")},E=()=>{r.showMoreBtn.classList.remove("is-hidden")},L=()=>{r.showMoreBtn.classList.add("is-hidden")},p=24;let l=[],c=1;const w=()=>{const e=c*p;return e>l.length?l.length:e},ee=async()=>{try{Y();const e=await Z();X(e)}catch(e){console.log(e)}},te=async()=>{try{M(),c=1,b();const t=(await U()).flatMap(o=>o.books);l=t,f(S(c)),v(w(),t.length),c*p<l.length?E():L()}catch(e){console.log(e)}finally{k()}},oe=async e=>{try{b(),e.preventDefault(),M(),c=1;const t=e.target.textContent.trim();l=await G(t),f(S(c)),v(w(),l.length),c*p<l.length?E():L()}catch(t){console.log(t)}finally{k()}},ne=async e=>{try{b(),c++,e.target.blur(),f(S(c)),v(w(),l.length),E(),c*p>=l.length&&L();const t=r.galleryList.lastElementChild.getBoundingClientRect().height;scrollBy({top:t*2,behavior:"smooth"})}catch(t){console.log(t)}finally{k()}},S=e=>{const t=(e-1)*p,o=t+p;return l.slice(t,o)},ae=e=>{r.dropdownMenu.classList.toggle("is-hidden")},se=async e=>{try{r.dropdownMenu.classList.add("is-hidden"),b(),e.preventDefault(),M(),c=1;const t=e.target.textContent.trim();l=await G(t),f(S(c)),v(w(),l.length),c*p<l.length?E():L()}catch(t){console.log(t)}finally{k()}};te();ee();r.categoryList.addEventListener("click",oe);r.showMoreBtn.addEventListener("click",ne);r.dropdownToggle.addEventListener("click",ae);r.dropdownMenu.addEventListener("click",se);async function z(e){if(!r.bookModalContainerEl){console.error("❌ Модальне вікно не знайдено! Перевірте refs.bookModalContainerEl");return}try{const o=(await K(e)).data,n=document.querySelector(".bm-cover");n&&(n.src=o.book_image,n.alt=o.title);const a=document.querySelector(".bm-title");if(a){const u=o.title.toLowerCase().split(" ").map(m=>m.charAt(0).toUpperCase()+m.slice(1)).join(" ");a.textContent=u}const s=document.querySelector(".bm-author");s&&(s.textContent=o.author);const i=document.querySelector(".bm-price");if(i){let u=o.list_price||o.price||o.amazon_price;if(!u&&o.buy_links&&o.buy_links.length>0){const m=o.buy_links.find(J=>J.name==="Amazon");u=m==null?void 0:m.price}if(u){const m=parseFloat(u);isNaN(m)?i.textContent=`$${u}`:i.textContent=`$${Math.round(m)}`}else o.amazon_product_url?i.innerHTML=`<a href="${o.amazon_product_url}" target="_blank" style="color: var(--color-bamboo); text-decoration: none;">Переглянути ціну на Amazon</a>`:i.textContent="Ціна уточнюється"}const B=document.getElementById("details");if(B){const u=`
        <p><strong>Author:</strong> ${o.author}</p>
        <p><strong>Publisher:</strong> ${o.publisher||"Not specified"}</p>
        <p><strong>Book Category:</strong> ${o.list_name||"Not specified"}</p>
        <p><strong>Description:</strong> ${o.description||"No description available"}</p>
      `;B.innerHTML=u}const I=document.getElementById("shipping");I&&(I.innerHTML=`
        <p>Delivery Options:</p>
        <ul>
          <li>Standard Delivery: 3-7 business days</li>
          <li>Express Delivery: 1-3 business days</li>
          <li>Free shipping on orders over $50</li>
        </ul>
        <p>International shipping is available for most countries.</p>
      `);const T=document.getElementById("returns");T&&(T.innerHTML=`
        <p>Return Policy:</p>
        <ul>
          <li>30-day return window</li>
          <li>Book must be in original condition</li>
          <li>Return shipping costs may apply</li>
          <li>Digital products are non-refundable</li>
        </ul>
        <p>Please contact customer service for more details about returns and refunds.</p>
      `);const N=document.querySelector(".bm-overlay");N&&N.classList.add("is-open"),document.body.style.overflow="hidden"}catch(t){console.error("❌ Помилка при завантаженні даних книги:",t)}}function x(){const e=document.querySelector(".bm-overlay");e&&e.classList.remove("is-open"),document.body.style.overflow=""}const re=document.querySelectorAll(".bm-accordion-header");re.forEach(e=>{e.addEventListener("click",()=>{const t=e.getAttribute("data-target"),o=document.getElementById(t);o.classList.contains("active")?(o.style.height=o.scrollHeight+"px",o.offsetHeight,o.style.height="0",o.classList.remove("active"),e.setAttribute("aria-expanded","false")):(o.classList.add("active"),o.style.height=o.scrollHeight+"px",e.setAttribute("aria-expanded","true"),o.addEventListener("transitionend",function a(){o.classList.contains("active")&&(o.style.height="auto",o.removeEventListener("transitionend",a))}))})});let q=null;r.bookModalContainerEl.addEventListener("mousedown",e=>{q=e.target});r.bookModalContainerEl.addEventListener("mouseup",e=>{q===e.target&&(e.target===r.bookModalContainerEl||e.target.classList.contains("bm-overlay"))&&x(),q=null});document.addEventListener("keydown",e=>{if(e.key==="Escape"){const t=document.querySelector(".bm-overlay");t&&t.classList.contains("is-open")&&x()}});const P=document.querySelector(".bm-close");P&&P.addEventListener("click",x);const O=document.getElementById("decreaseBtn"),D=document.getElementById("increaseBtn"),d=document.getElementById("quantity");O&&D&&d&&(O.addEventListener("click",()=>{let e=parseInt(d.value)||1;e>1&&(d.value=e-1)}),D.addEventListener("click",()=>{let e=parseInt(d.value)||1;d.value=e+1}),d.addEventListener("input",()=>{let e=parseInt(d.value);(isNaN(e)||e<1)&&(d.value=1)}),d.addEventListener("blur",()=>{let e=parseInt(d.value);(isNaN(e)||e<1)&&(d.value=1)}));const A=document.querySelector(".bm-add-to-cart"),$=document.querySelector(".bm-buy-now");A&&A.addEventListener("click",()=>{var o;const e=parseInt(d.value)||1,t=((o=document.querySelector(".bm-title"))==null?void 0:o.textContent)||"книгу";j(`Додано до кошика: ${e} x "${t}"`)});$&&$.addEventListener("click",()=>{j("Дякуємо за покупку!"),setTimeout(()=>{x()},1500)});function j(e){const t=document.createElement("div");t.className="bm-notification",t.textContent=e,document.body.appendChild(t),setTimeout(()=>{t.classList.add("show")},100),setTimeout(()=>{t.classList.remove("show"),setTimeout(()=>{t.parentNode&&t.parentNode.removeChild(t)},300)},3e3)}window.showBookModal=z;document.addEventListener("click",e=>{var o,n,a,s;if(e.target.classList.contains("books-gallery-card-btn")||((o=e.target.textContent)==null?void 0:o.trim())==="Learn More"||((n=e.target.innerText)==null?void 0:n.trim())==="Learn More"||((s=(a=e.target.closest("button"))==null?void 0:a.textContent)==null?void 0:s.trim())==="Learn More"){let i=e.target.closest("li[data-id]")||e.target.closest("li")||e.target.closest("[data-id]");i&&i.dataset.id&&(e.preventDefault(),e.stopPropagation(),z(i.dataset.id))}});const ie=[{text:"Great selection, fast delivery, and beautifully packaged books. My go-to store for weekend reads!",name:"Jane Doe",role:"Book Lover, Reader",avatar:"https://ui-avatars.com/api/?name=Jane+Doe&background=random"},{text:"Customer service was super helpful, and my order arrived earlier than expected. Highly recommend!",name:"John Smith",role:"Editor, BookMag",avatar:"https://ui-avatars.com/api/?name=John+Smith&background=random"},{text:"Love the curated picks and clear descriptions. Makes it easy to find my next favorite book.",name:"Emily Johnson",role:"Author, Novelist",avatar:"https://ui-avatars.com/api/?name=Emily+Johnson&background=random"},{text:"Amazing experience! I’ll definitely come back.",name:"Liam Green",role:"Book Collector",avatar:"https://ui-avatars.com/api/?name=Liam+Green&background=random"},{text:"Books came in perfect condition. Thank you!",name:"Olivia Brown",role:"Student",avatar:"https://ui-avatars.com/api/?name=Olivia+Brown&background=random"},{text:"Fast service and high-quality packaging.",name:"Ethan Wilson",role:"Library Assistant",avatar:"https://ui-avatars.com/api/?name=Ethan+Wilson&background=random"},{text:"Nice recommendations and filters. Easy to use!",name:"Ava Davis",role:"Book Blogger",avatar:"https://ui-avatars.com/api/?name=Ava+Davis&background=random"},{text:"Loved the gift wrap option! Perfect for birthdays.",name:"Noah Taylor",role:"Dad, Reader",avatar:"https://ui-avatars.com/api/?name=Noah+Taylor&background=random"},{text:"User-friendly site and quick checkout.",name:"Isabella Moore",role:"Journalist",avatar:"https://ui-avatars.com/api/?name=Isabella+Moore&background=random"},{text:"Always on time and reliable.",name:"Mason Thomas",role:"Book Reviewer",avatar:"https://ui-avatars.com/api/?name=Mason+Thomas&background=random"},{text:"One of the best book platforms I've used!",name:"Sophia White",role:"Writer",avatar:"https://ui-avatars.com/api/?name=Sophia+White&background=random"},{text:"Responsive support and great selection!",name:"Lucas Hall",role:"Reader",avatar:"https://ui-avatars.com/api/?name=Lucas+Hall&background=random"}],le=document.querySelector(".feedback-list");ie.forEach(e=>{const t=document.createElement("li");t.classList.add("swiper-slide"),t.classList.add("feedback-item"),t.innerHTML=`
    <div class="feedback-card">
      <p class="quote">"${e.text}"</p>
      <div class="author">
        <img src="${e.avatar}" alt="${e.name}" class="avatar" />
        <div>
          <p class="name">${e.name}</p>
          <p class="role">${e.role}</p>
        </div>
      </div>
    </div>
  `,le.appendChild(t)});const y=new C(".feedback-swiper",{modules:[_,H],spaceBetween:24,slidesPerView:1,slidesPerGroup:1,allowTouchMove:!0,navigation:{nextEl:".next-btn",prevEl:".prev-btn"},keyboard:{enabled:!0},a11y:!0,breakpoints:{0:{slidesPerView:1,slidesPerGroup:1,spaceBetween:0},768:{slidesPerView:2,slidesPerGroup:2,spaceBetween:24},1440:{slidesPerView:3,slidesPerGroup:3,spaceBetween:24}},on:{init:()=>F(0),slideChange:()=>{const e=Math.floor(y.activeIndex/y.params.slidesPerGroup);F(e)}}});document.querySelectorAll(".dot").forEach((e,t)=>{e.addEventListener("click",()=>{y.slideTo(t*y.params.slidesPerGroup)})});function F(e){document.querySelectorAll(".dot").forEach((t,o)=>{t.classList.toggle("active",o===e)})}new C(".event-list",{direction:"horizontal",slidesPerView:1,spaceBetween:24,keyboard:{enabled:!0,onlyInViewport:!0},navigation:{nextEl:".js-events-slider-forward",prevEl:".js-events-slider-prev"},pagination:{el:".events-pagination",clickable:!0},a11y:{enabled:!0,slideRole:""},breakpoints:{768:{slidesPerView:2,spaceBetween:24}}});class ce{constructor(){var t;this.modal=document.querySelector("[data-contact-modal]"),this.modalContent=(t=this.modal)==null?void 0:t.querySelector(".contact-modal-wrapper"),this.openBtns=document.querySelectorAll("[data-contact-open]"),this.closeBtn=document.querySelector("[data-contact-close]"),this.form=document.querySelector("[data-contact-form]"),this.eventNameEl=document.querySelector("[data-event-name]"),this.successMessage=document.querySelector("[data-success-message]"),this.isOpen=!1,this.currentEvent="",this.isFormInteraction=!1,this.mouseDownOnOverlay=!1,this.init()}init(){this.modal&&(this.bindEvents(),this.setupFormValidation(),this.bindOpenButtons())}bindOpenButtons(){this.openBtns.forEach(t=>{t.addEventListener("click",o=>{o.preventDefault(),this.open(t)})})}open(t=null){if(!this.isOpen){if(t){const o=t.closest(".event-card"),n=o==null?void 0:o.querySelector(".event-subhead");n&&this.eventNameEl&&(this.currentEvent=n.textContent.trim(),this.eventNameEl.textContent=this.currentEvent)}this.resetForm(),this.form.style.display="flex",this.successMessage.style.display="none",this.modal.classList.add("contact-modal-is-open"),document.body.style.overflow="hidden",this.isOpen=!0,this.isFormInteraction=!1,this.mouseDownOnOverlay=!1,setTimeout(()=>{var n;const o=(n=this.form)==null?void 0:n.querySelector("input");o&&(o.focus(),this.isFormInteraction=!0)},300)}}close(){this.isOpen&&(this.modal.classList.remove("contact-modal-is-open"),document.body.style.overflow="",this.isOpen=!1,this.isFormInteraction=!1,this.mouseDownOnOverlay=!1,setTimeout(()=>{this.resetForm()},300))}bindEvents(){var t,o;(t=this.closeBtn)==null||t.addEventListener("click",n=>{n.stopPropagation(),this.close()}),this.modal.addEventListener("mousedown",n=>{n.target===this.modal&&(this.mouseDownOnOverlay=!0,this.isFormInteraction=!1)}),this.modal.addEventListener("mouseup",n=>{n.target===this.modal&&this.mouseDownOnOverlay&&!this.isFormInteraction&&this.close(),this.mouseDownOnOverlay=!1}),this.modalContent&&(this.modalContent.addEventListener("mousedown",n=>{this.isFormInteraction=!0,this.mouseDownOnOverlay=!1,n.stopPropagation()}),this.modalContent.addEventListener("click",n=>{n.stopPropagation()})),document.addEventListener("keydown",n=>{n.key==="Escape"&&this.isOpen&&this.close()}),(o=this.form)==null||o.addEventListener("submit",n=>this.handleSubmit(n))}setupFormValidation(){if(!this.form)return;this.form.querySelectorAll("input, textarea").forEach(o=>{o.addEventListener("input",n=>{this.handleInputFormatting(n),this.validateField(o)}),o.addEventListener("blur",()=>this.validateField(o)),o.addEventListener("focus",()=>{this.hideFieldError(o),this.isFormInteraction=!0}),o.addEventListener("mousedown",n=>{this.isFormInteraction=!0,this.mouseDownOnOverlay=!1,n.stopPropagation()})})}handleInputFormatting(t){const o=t.target,n=o.selectionStart;let a=o.value;if(o.type==="text"||o.tagName==="TEXTAREA"){const s=a.replace(/\s{2,}/g," ");if(s!==a){o.value=s;const i=a.length-s.length;o.setSelectionRange(Math.max(0,n-i),Math.max(0,n-i))}}if(o.type==="email"){const s=a.replace(/\s/g,"");s!==a&&(o.value=s,o.setSelectionRange(n-1,n-1))}}validateField(t){const o=t.parentNode.querySelector(".contact-modal-error");if(!o)return!0;let n=!0,a="";const s=t.value.trim();return t.name==="name"&&(s?s.length<2?(n=!1,a="Name must be at least 2 characters"):s.length>50?(n=!1,a="Name must be less than 50 characters"):/^[a-zA-ZÀ-ÿ\s'-]+$/.test(s)||(n=!1,a="Name can only contain letters, spaces, hyphens and apostrophes"):(n=!1,a="Name is required")),t.name==="email"&&(s?/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(s)||(n=!1,a="Please enter a valid email address"):(n=!1,a="Email is required")),t.name==="message"&&t.value.length>500&&(n=!1,a="Message must be less than 500 characters"),o.textContent=a,n?(t.classList.remove("contact-modal-invalid"),t.classList.add("contact-modal-valid")):(t.classList.remove("contact-modal-valid"),t.classList.add("contact-modal-invalid")),n}hideFieldError(t){t.parentNode.querySelector(".contact-modal-error")}validateForm(){if(!this.form)return!1;const t=this.form.querySelectorAll("input[required], textarea[required]");let o=!0;return t.forEach(n=>{this.validateField(n)||(o=!1)}),o}async handleSubmit(t){if(t.preventDefault(),t.stopPropagation(),this.form.querySelectorAll("input, textarea").forEach(s=>{s.type!=="email"&&(s.value=s.value.trim())}),!this.validateForm()){const s=this.form.querySelector(".contact-modal-invalid");s&&s.focus();return}const n=this.form.querySelector('button[type="submit"]'),a=(n==null?void 0:n.textContent)||"Register";try{n&&(n.disabled=!0,n.textContent="Registering..."),await this.simulateSubmission(),this.showSuccess()}catch(s){console.error("Registration failed:",s),this.showError("Registration failed. Please try again.")}finally{n&&(n.disabled=!1,n.textContent=a)}}async simulateSubmission(){return new Promise(t=>{setTimeout(t,1500)})}showSuccess(){this.successMessage&&(this.form.style.display="none",this.successMessage.style.display="flex",setTimeout(()=>{this.close()},3e3))}showError(t){alert(t)}resetForm(){if(!this.form)return;this.form.reset(),this.form.querySelectorAll("input, textarea").forEach(n=>{n.classList.remove("contact-modal-valid","contact-modal-invalid")}),this.form.querySelectorAll(".contact-modal-error").forEach(n=>{n.textContent=""}),this.successMessage&&(this.successMessage.style.display="none")}}document.addEventListener("DOMContentLoaded",()=>{new ce});const h=document.getElementById("signupModal"),de=document.getElementById("signupBtn"),ue=document.querySelector(".close"),V=document.getElementById("customAlert"),me=document.getElementById("alertText");function pe(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function R(e){me.textContent=e,V.style.display="block",setTimeout(()=>{V.style.display="none"},3e3)}de.addEventListener("click",function(e){e.preventDefault();const t=document.getElementById("email"),o=t.value.trim();if(!o){R("Enter email please.");return}if(!pe(o)){R("Wrong email. Please try again!");return}localStorage.setItem("userEmail",o),t.value="",h.style.display="block"});ue.onclick=function(){h.style.display="none"};window.onclick=function(e){e.target===h&&(h.style.display="none")};document.addEventListener("keydown",function(e){e.key==="Escape"&&h.style.display==="block"&&(h.style.display="none")});
//# sourceMappingURL=index.js.map
