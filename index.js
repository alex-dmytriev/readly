import{a as c,S as d,N as u,P as h,A as m}from"./assets/vendor-CbE6n91j.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const n of r.addedNodes)n.tagName==="LINK"&&n.rel==="modulepreload"&&i(n)}).observe(document,{childList:!0,subtree:!0});function t(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=t(s);fetch(s.href,r)}})();const l={headerContainerEl:document.querySelector(".header-container"),heroContainerEl:document.querySelector(".hero-container"),booksContainerEl:document.querySelector(".books-container"),feedbacksContainerEl:document.querySelector(".feedbacks-container"),eventsContainerEl:document.querySelector(".events-container"),contactModalContainerEl:document.querySelector(".contact-modal-container"),bookModalContainerEl:document.querySelector(".book-modal-container"),footerContainerEl:document.querySelector(".footer-container"),galleryList:document.querySelector(".books-gallery-list"),categoryList:document.querySelector(".books-nav-category")},p=async()=>(await c.get("https://books-backend.p.goit.global/books/top-books")).data,f=o=>{const e=o.map(t=>{const i=t.title.toLowerCase(),s=Math.round(Number(t.price));return`<li class="books-gallery-card">
          <div class="books-gallery-img-wrapper">
            <img
              class="books-gallery-img"
              src="${t.book_image}"
              alt="${t.description}"
              width="227"
              height="323"
            />
          </div>
          <div class="books-gallery-card-info">
            <div class="books-gallery-card-text">
              <h3 class="books-gallery-card-title">${i}</h3>
              <p class="books-gallery-card-author">${t.author}</p>
            </div>
            <p class="books-gallery-card-price">$${s}</p>
          </div>
          <button class="books-gallery-card-btn" type="button">
            Learn More
          </button>
        </li>`}).join("");l.galleryList.innerHTML=e},y=async()=>{try{const e=(await p()).flatMap(t=>t.books);f(e.slice(-8))}catch(o){console.log(o)}};y();l.bookModalContainerEl.insertAdjacentHTML("beforeend","<p>book-modal.js section</p>");l.feedbacksContainerEl.insertAdjacentHTML("beforeend","<p>feedbacks.js section</p>");class v{constructor(){this.modal=document.querySelector("[data-contact-modal]"),this.openBtns=document.querySelectorAll("[data-contact-open]"),this.closeBtn=document.querySelector("[data-contact-close]"),this.form=document.querySelector("[data-contact-form]"),this.eventNameEl=document.querySelector("[data-event-name]"),this.successMessage=document.querySelector("[data-success-message]"),this.isOpen=!1,this.currentEvent="",this.init()}init(){this.modal&&(this.bindEvents(),this.setupFormValidation())}bindEvents(){var e,t;(e=this.closeBtn)==null||e.addEventListener("click",()=>this.close()),this.modal.addEventListener("click",i=>{i.target===this.modal&&this.close()}),document.addEventListener("keydown",i=>{i.key==="Escape"&&this.isOpen&&this.close()}),(t=this.form)==null||t.addEventListener("submit",i=>this.handleSubmit(i))}setupFormValidation(){if(!this.form)return;this.form.querySelectorAll("input, textarea").forEach(t=>{t.addEventListener("input",()=>this.validateField(t)),t.addEventListener("blur",()=>this.validateField(t)),t.addEventListener("focus",()=>this.hideFieldError(t))})}validateField(e){const t=e.parentNode.querySelector(".error-text");if(!t)return;let i=!0,s="";if(e.name==="name"&&(e.value.trim()?e.value.trim().length<2?(i=!1,s="Name must be at least 2 characters"):e.value.trim().length>50&&(i=!1,s="Name must be less than 50 characters"):(i=!1,s="Name is required")),e.name==="email"){const r=/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;e.value.trim()?r.test(e.value)||(i=!1,s="Please enter a valid email address"):(i=!1,s="Email is required")}return e.name==="message"&&e.value.length>500&&(i=!1,s="Message must be less than 500 characters"),t.textContent=s,i?(e.classList.remove("invalid"),e.classList.add("valid")):(e.classList.remove("valid"),e.classList.add("invalid")),i}hideFieldError(e){e.parentNode.querySelector(".error-text")}validateForm(){if(!this.form)return!1;const e=this.form.querySelectorAll("input[required], textarea[required]");let t=!0;return e.forEach(i=>{this.validateField(i)||(t=!1)}),t}async handleSubmit(e){if(e.preventDefault(),!this.validateForm()){const s=this.form.querySelector(".invalid");s&&s.focus();return}const t=this.form.querySelector(".contact-form-btn"),i=t.textContent;try{t.disabled=!0,t.textContent="Registering...",await this.simulateSubmission(),this.showSuccess()}catch(s){console.error("Registration failed:",s),this.showError("Registration failed. Please try again.")}finally{t.disabled=!1,t.textContent=i}}async simulateSubmission(){return new Promise(e=>{setTimeout(e,1500)})}showSuccess(){this.successMessage&&(this.form.style.display="none",this.successMessage.style.display="flex",setTimeout(()=>{this.close()},3e3))}showError(e){alert(e)}open(e=""){if(this.isOpen)return;this.currentEvent=e,this.eventNameEl&&e&&(this.eventNameEl.textContent=e),this.resetForm(),this.form.style.display="flex",this.successMessage.style.display="none",this.modal.classList.add("is-open"),this.isOpen=!0;const t=this.form.querySelector("input");t&&setTimeout(()=>t.focus(),300),document.body.style.overflow="hidden"}close(){this.isOpen&&(this.modal.classList.remove("is-open"),this.isOpen=!1,document.body.style.overflow="",setTimeout(()=>{this.resetForm()},300))}resetForm(){if(!this.form)return;this.form.reset(),this.form.querySelectorAll("input, textarea").forEach(i=>{i.classList.remove("valid","invalid")}),this.form.querySelectorAll(".error-text").forEach(i=>{i.textContent=""})}}let a;document.addEventListener("DOMContentLoaded",()=>{a=new v});function g(o){a&&a.open(o)}class w{constructor(){this.eventsSection=document.querySelector(".events"),this.swiperContainer=document.querySelector(".events-swiper"),this.swiper=null,this.init()}init(){!this.eventsSection||!this.swiperContainer||(this.initSwiper(),this.bindEvents())}initSwiper(){this.swiper=new d(".events-swiper",{modules:[u,h,m],direction:"horizontal",loop:!0,centeredSlides:!1,slidesPerView:1,spaceBetween:20,breakpoints:{640:{slidesPerView:1,spaceBetween:24},768:{slidesPerView:2,spaceBetween:28},1024:{slidesPerView:2.5,spaceBetween:32},1440:{slidesPerView:3,spaceBetween:40}},navigation:{nextEl:".events-swiper-button-next",prevEl:".events-swiper-button-prev"},pagination:{el:".events-swiper-pagination",clickable:!0,dynamicBullets:!0},autoplay:{delay:4e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},speed:600,effect:"slide",a11y:{prevSlideMessage:"Previous event",nextSlideMessage:"Next event",paginationBulletMessage:"Go to event {{index}}"},on:{init:()=>{console.log("Events Swiper initialized")},slideChange:()=>{}}})}bindEvents(){this.eventsSection.addEventListener("click",this.handleEventClick.bind(this)),this.swiperContainer.addEventListener("mouseenter",()=>{this.swiper&&this.swiper.autoplay&&this.swiper.autoplay.stop()}),this.swiperContainer.addEventListener("mouseleave",()=>{this.swiper&&this.swiper.autoplay&&this.swiper.autoplay.start()})}handleEventClick(e){const t=e.target.closest(".events-btn");if(t){e.preventDefault();const i=t.dataset.event;g(i),this.swiper&&this.swiper.autoplay&&this.swiper.autoplay.stop()}}nextSlide(){this.swiper&&this.swiper.slideNext()}prevSlide(){this.swiper&&this.swiper.slidePrev()}goToSlide(e){this.swiper&&this.swiper.slideTo(e)}destroy(){this.swiper&&(this.swiper.destroy(!0,!0),this.swiper=null)}}document.addEventListener("DOMContentLoaded",()=>{new w});
//# sourceMappingURL=index.js.map
